<div class="space-y-8">
  <div class="bg-emerald-600 text-white rounded-2xl p-6 shadow-sm">
    <h1 class="text-2xl font-semibold">こんにちは、<%= @user.name %>さん</h1>
    <p class="mt-2 text-emerald-100">
    <%= @user.teacher? ? "教員ダッシュボード" : "学生ダッシュボード" %>
    </p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <% if @user.teacher? %>
      <%= link_to attendance_path, class: "bg-white border border-slate-200 rounded-2xl p-5 hover:shadow-md transition" do %>
        <div class="text-sm text-slate-500">出席確認</div>
        <div class="text-lg font-semibold text-slate-900 mt-2">クラスの出席状況</div>
      <% end %>
      <%= link_to generate_qr_path, class: "bg-white border border-slate-200 rounded-2xl p-5 hover:shadow-md transition" do %>
        <div class="text-sm text-slate-500">QRコード</div>
        <div class="text-lg font-semibold text-slate-900 mt-2">出席用QRを生成</div>
      <% end %>
    <% else %>
      <%= link_to scan_path, class: "bg-white border border-slate-200 rounded-2xl p-5 hover:shadow-md transition" do %>
        <div class="text-sm text-slate-500">QRスキャン</div>
        <div class="text-lg font-semibold text-slate-900 mt-2">出席を記録</div>
      <% end %>
      <%= link_to history_path, class: "bg-white border border-slate-200 rounded-2xl p-5 hover:shadow-md transition" do %>
        <div class="text-sm text-slate-500">出席履歴</div>
        <div class="text-lg font-semibold text-slate-900 mt-2">これまでの記録</div>
      <% end %>
    <% end %>
  </div>

  <div>
    <h2 class="text-lg font-semibold text-slate-900 mb-3">
      <%= @user.teacher? ? "担当クラス" : "履修クラス" %>
    </h2>
    <% if @classes.any? %>
      <div class="bg-white border border-slate-200 rounded-2xl divide-y divide-slate-100">
        <% @classes.each do |klass| %>
          <div class="p-4 flex flex-col md:flex-row md:items-center md:justify-between">
            <div>
              <div class="font-semibold text-slate-900"><%= klass.name %></div>
              <div class="text-sm text-slate-500">
                <%= klass.room %> / <%= klass.semester %> <%= klass.year %>
              </div>
            </div>
            <% if @user.teacher? %>
              <%= link_to "出席確認", attendance_path(class_id: klass.id), class: "mt-3 md:mt-0 inline-flex items-center rounded-full border border-slate-200 px-4 py-2 text-sm hover:bg-slate-50" %>
            <% end %>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="bg-white border border-slate-200 rounded-2xl p-6 text-slate-500">
        登録されているクラスがありません。
      </div>
    <% end %>
  </div>
</div>
