<%# AdminKit風通知カード: CSS変数、統一スタイル %>
<div id="<%= dom_id(notification) %>" class="card p-4 <%= notification.read_at ? "opacity-70" : "" %>">
  <div class="flex items-start justify-between gap-4">
    <div class="min-w-0">
      <div class="flex items-center gap-2">
        <span class="text-sm font-medium truncate" style="color: var(--color-text-primary);"><%= notification.title %></span>
        <% if notification.read_at.nil? %>
          <span class="badge badge-error">NEW</span>
        <% end %>
      </div>
      <% if notification.body.present? %>
        <p class="text-sm mt-2 break-words" style="color: var(--color-text-secondary);"><%= notification.body %></p>
      <% end %>
      <div class="mt-3 flex flex-wrap items-center gap-3">
        <% if notification.action_path.present? %>
          <%= link_to "詳細を見る", notification.action_path, class: "text-sm hover:underline", style: "color: var(--color-primary);" %>
        <% end %>
        <% if notification.read_at.nil? %>
          <%= link_to "既読にする",
            notification_mark_read_path(notification),
            data: { turbo_method: :patch },
            class: "text-sm hover:underline",
            style: "color: var(--color-text-muted);" %>
        <% end %>
      </div>
    </div>
    <div class="text-xs whitespace-normal shrink-0" style="color: var(--color-text-muted);">
      <%= notification.created_at.strftime("%Y-%m-%d %H:%M") %>
    </div>
  </div>
</div>
