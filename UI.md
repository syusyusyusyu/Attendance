# UI（現時点の写し）

## 概要
- Google系の配色トークン（緑/青/赤/黄）を基調とした、カード＋テーブル中心の管理UI。
- フォントは Roboto / Noto Sans JP。背景は淡いグレー、主要アクションは緑。
- 画面はヘッダー固定＋左サイドバー（ログイン後）。モバイルはサイドバーがドロワー式。

## グローバルレイアウト
- 固定ヘッダー: アプリ名、通知ベル（未読バッジ）、ユーザーメニュー（プロフィール/ログアウト）。
- 左サイドバー: ロールに応じたメニュー構成。選択中は緑背景。
- メイン領域: 最大幅 7xl、カード/テーブルで構成。
- フラッシュ通知: 右上固定トースト（成功/エラー/情報）。

## デザイン/共通コンポーネント
- ボタン: `btn`（最小44px）＋ `primary/secondary/blue` の3種。
- カード: 白背景、角丸、薄い影・枠線。
- バッジ: 成功/警告/エラー/情報の色分け。
- テーブル: 横スクロール対応、モバイルは最小幅固定。
- ドロワー: モバイル時に下から表示されるフォーム/詳細パネル。
- ローダー: Turbo Frame内での「読み込み中…」オーバーレイ。
- QR関連: スキャン枠・成功アニメーション、QRの自動更新/ダウンロード。

## 画面一覧（未ログイン）
### ログイン
- ロゴアイコン＋タイトル。
- メール/パスワード入力（アイコン付き、パスワード表示切替）。
- アカウントタイプ切替（学生/教員）。
- デモログイン（学生/教員）ボタン。
- 規約/プライバシー/データ保持へのリンク。

### 法務ページ
- 利用規約 / プライバシー / データ保持ポリシー（カード型の文章ページ）。

## 画面一覧（学生）
### ダッシュボード
- あいさつ＋ロール表示。
- サマリーカード（出席率 / 申請待ち / 注意）。
- クイック導線（QRスキャン / 出席履歴 / 出席申請）。
- 30日出席傾向（クラス別バー）と注意クラス一覧。
- 履修クラス一覧（各クラスにQRスキャン/履歴ボタン）。

### QRコードスキャン
- カメラ起動/停止/手入力切替。
- スキャン枠・状態メッセージ・成功オーバーレイ。
- 手入力フォーム（トークン貼り付け）。
- 手順/トラブル時の確認ガイド。
- 位置情報必須の案内。

### 出席履歴
- 月間カレンダー（出席/遅刻/欠席/公欠を色分け）。
- 日別詳細（当日の授業ごとの出席詳細）。
- CSV/PDF出力フォーム。

### 出席申請
- 新規申請フォーム（クラス/日付/種別/理由、定型文ボタン付き）。
- 申請履歴テーブル（ステータスバッジ、コメント）。

### 通知
- 通知一覧（NEWバッジ、詳細リンク、既読化）。
- 「すべて既読にする」ボタン。

### プロフィール
- 基本情報の表示/編集（氏名/メール/学生ID/パスワード）。
- 通知設定（メール/LINE/Push）。Pushは購読/解除ボタン付き。

## 画面一覧（教員/スタッフ）
### ダッシュボード
- サマリー（出席率 / 承認待ち / 注意学生）。
- 主要導線（クラス管理 / 出席確認 / QR発行 / レポート）。
- 今日の授業カード（QR発行/出席確認/進行状況）。
- 注意学生・承認待ち・通知のサマリー。
- 担当クラス一覧（出席確認ボタン）。

### クラス管理
- クラスカード一覧（検索/運用中フィルタ）。
- 新規/編集フォームはドロワーで表示。
- クラス詳細:
  - 基本情報（教室/科目/学期/定員/説明）。
  - 履修者管理（検索/追加/CSVインポート）。
  - 特別日程（休講/補講）テーブル。

### 出席確認（クラス出席管理）
- クラス/日付選択、前後日移動。
- 出席ポリシー設定（最低出席率・警告閾値・IP制限等）。
- 選択日のスケジュール表示。
- 授業回ステータス（確定/解除の申請ボタン）。
- CSVエクスポート/インポート。
- 学生一覧テーブル（出席ステータスの編集、検索/絞り込み）。
- 編集時は「修正理由」入力を要求。

### 出席申請（承認側）
- クラス/ステータスで絞り込み。
- ステータス別タブ（件数表示）。
- 一括承認/却下（チェックボックス＋フローティング操作）。
- 申請一覧テーブル（行単位で承認/却下）。

### 出席変更ログ
- 条件保存・期間・種別・キーワードの検索フォーム。
- サマリー（件数/内訳）。
- ログ一覧 → 詳細はドロワー表示。

### QRコード発行
- クラス選択 → QR表示。
- 有効期限のカウントダウン、自動更新。
- 再発行/ダウンロード。

### QRスキャンログ
- クラス/日付/結果/判定で絞り込み。
- サマリー（件数/内訳）。
- ログ一覧 → 詳細はドロワー表示。

### レポート
- クラス別出席率のバー表示。
- 欠席/早退が多い学生ランキング。
- 日別サマリー（折れ線＋割合バー）。
- クラス選択時: 週次/日次推移、要注意者、理由分布、学生別推移。
- 期末レポート（CSV/PDF）出力。

## 画面一覧（管理者）
### 管理者ダッシュボード
- ユーザー数/ロール内訳。
- 未処理の出席申請・操作申請。
- 最近の監査ログ/スキャンログ。

### ユーザー管理
- 検索/ロール絞り込み。
- 一覧テーブル（編集/削除）。
- 新規/編集はドロワー。

### ロール/権限
- ロールカード一覧。
- 表示名/説明の編集＋権限チェックボックス。

### 操作申請
- ステータス/種別の絞り込み。
- 一覧テーブル（承認/却下＋コメント）。

## 備考
- 画面は Turbo Frame を多用し、一覧/詳細の部分更新＋ドロワー表示で遷移を最小化。
- すべての入力UIはモバイルの最小タップ領域（44px）を確保。
