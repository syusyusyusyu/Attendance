# 一問一答（展示用フラッシュカード集）

展示会で想定される質問に対する短答形式の一問一答です。即答用メモとして利用してください。

1. Q: このアプリの目的は？
   A: 授業の出席管理をQRで簡単・確実にすることです。

2. Q: 対象ユーザーは？
   A: 学生・教員・管理者です。

3. Q: 教員の主要画面は？
   A: ダッシュボード、クラス管理、出席確認、QR発行、レポートです。

4. Q: 学生の主要画面は？
   A: QRスキャン、出席履歴、出席申請、通知です。

5. Q: 管理者の役割は？
   A: ユーザー/権限/操作申請/端末/SSO/APIの統合管理です。

6. Q: バックエンドの主要技術は？
   A: Ruby on Rails 8.0です。

7. Q: フロントエンドの構成は？
   A: Tailwind CSSとHotwire（Importmap）です。

8. Q: データベースは？
   A: PostgreSQLです。

9. Q: 認証方式は？
   A: セッションベース認証です。

10. Q: ロールと権限の違いは？
    A: ロールは役割、権限は機能単位のアクセス制御です。

11. Q: ロールの種類は？
    A: student/teacher/adminです。

12. Q: 権限チェックはどこで行う？
    A: `require_permission!` で実行します。

13. Q: QrSessionとは？
    A: QR発行の実体で、期限や発行者を持つセッションです。

14. Q: QRトークンの有効期限は？
    A: 5分です。

15. Q: QRトークンの署名鍵は？
    A: `QR_TOKEN_SECRET`（未設定時は`secret_key_base`）です。

16. Q: QRを再発行すると何が起きる？
    A: 旧セッションが失効し、新しいQRに切り替わります。

17. Q: QR発行の流れは？
    A: クラス選択→QrSession作成→署名トークン生成→QR表示です。

18. Q: QRスキャンの流れは？
    A: カメラで読み取り→トークン検証→出席記録→ログ記録です。

19. Q: 退室はどう記録する？
    A: 同じQRを2回目にスキャンすると退室記録になります。

20. Q: 早退判定はどうする？
    A: 滞在時間が必要分数に満たない場合です。

21. Q: 出席ポリシーの主項目は？
    A: 遅刻/締切、レート制限、IP/端末制限、警告閾値です。

22. Q: 遅刻・締切の既定値は？
    A: 20分（大阪情報コンピュータ専門学校設定）です。

23. Q: 授業開始前のスキャンは？
    A: 早期チェックイン許可で制御できます。

24. Q: レート制限は？
    A: クラス単位と学生単位で分間上限を設定できます。

25. Q: IP制限は？
    A: 許可IPレンジで教室内のみ許可できます。

26. Q: 端末制限は？
    A: UserAgentキーワードで制限可能です。

27. Q: 公認端末必須とは？
    A: 承認済み端末のみスキャン可能にする設定です。

28. Q: 不正検知の例は？
    A: 失敗多発、同一IP集中、QR共有疑いです。

29. Q: QRスキャンログに保存される情報は？
    A: 結果、IP、UserAgent、時刻、出席判定です。

30. Q: 出席変更ログの必須項目は？
    A: 変更理由です（理由必須）。

31. Q: 出席申請の種類は？
    A: 欠席・遅刻・公欠です。

32. Q: 申請はいつ反映される？
    A: 教員が承認した時点です。

33. Q: 一括承認はある？
    A: 教員/管理者の一括承認・却下が可能です。

34. Q: 操作申請とは？
    A: 出席修正/確定/解除/CSV反映の承認フローです。

35. Q: 出席CSVインポートの用途は？
    A: まとめて出席を修正・反映するためです。

36. Q: 名簿CSVインポートの制限は？
    A: 新規学生作成は管理者のみ可能です。

37. Q: 出席CSVの必須列は？
    A: 日付/学生ID/出席状況です。

38. Q: CSVの文字コードは？
    A: UTF-8（BOM付き）です。

39. Q: CSVの期間指定は？
    A: `start_date`/`end_date` で指定できます。

40. Q: レポートの期間指定は？
    A: `start_date`/`end_date` で集計します。

41. Q: 期末レポートの形式は？
    A: PDF/CSVを出力できます。

42. Q: 警告通知の条件は？
    A: 欠席回数や出席率が閾値を下回る場合です。

43. Q: 通知はどこで見る？
    A: `/notifications` です。

44. Q: メール通知の条件は？
    A: ユーザー設定がONでSendGridが設定済みの時です。

45. Q: LINE通知の条件は？
    A: ユーザーID登録とチャネルアクセストークンが必要です。

46. Q: Push通知の条件は？
    A: Web Push購読とVAPIDキーが必要です。

47. Q: Push購読はどこで行う？
    A: プロフィールの通知設定からです。

48. Q: LINEユーザーIDはどこで設定する？
    A: プロフィールの通知設定欄です。

49. Q: 通知設定の初期値は？
    A: メールON、LINE/PushはOFFです。

50. Q: 端末登録はどこで行う？
    A: プロフィールの端末登録からです。

51. Q: 管理者のユーザー管理は？
    A: `/admin/users` で検索・追加・編集が可能です。

52. Q: ロール/権限はどこで管理する？
    A: `/admin/roles` です。

53. Q: APIキーは何に使う？
    A: 学務連携などの外部API認可に使います。

54. Q: SSO設定はどこで行う？
    A: `/admin/sso_providers` で管理します。

55. Q: Service Workerの用途は？
    A: Web Push通知の受信処理です。

56. Q: 授業回はいつ生成される？
    A: 画面表示時に`ClassSessionResolver`で生成されます。

57. Q: 休講/補講の設定は？
    A: クラス詳細の「特別日程」で行います。

58. Q: 授業回の確定状態は？
    A: `locked_at` で管理されます。

59. Q: 自動欠席確定の実行方法は？
    A: `bin/rails attendance:finalize` です。

60. Q: データ保持ポリシーはどこ？
    A: `/data-policy` に記載しています。

61. Q: 必須の環境変数は？
    A: `DATABASE_URL`、`RAILS_MASTER_KEY`、`APP_HOST`、`QR_TOKEN_SECRET` です。

62. Q: SendGrid設定に必要な値は？
    A: `SENDGRID_API_KEY` と `MAIL_FROM` です。

63. Q: Web Push設定に必要な値は？
    A: `WEBPUSH_PUBLIC_KEY` と `WEBPUSH_PRIVATE_KEY` です。

64. Q: LINE通知に必要な値は？
    A: `LINE_CHANNEL_ACCESS_TOKEN` です。

65. Q: Renderのビルドコマンドは？
    A: `bin/render-build.sh` です。

66. Q: アセットの事前生成は？
    A: `bin/rails assets:precompile` です。

67. Q: シードデータの実行は？
    A: `bin/rails db:seed` です。

68. Q: デモデータ生成は？
    A: `bin/rails demo:seed` です。

69. Q: テストの入口は？
    A: `bin/rails test` です。

70. Q: システムテストは？
    A: Capybara + Selenium を利用します。

71. Q: キャッシュ対策は？
    A: 集計やログで負荷分散を行います。

72. Q: インデックス設計の目的は？
    A: 出席/ログ検索の高速化です。

73. Q: CSRF対策は？
    A: Railsのトークン検証です。

74. Q: 未ログイン時の挙動は？
    A: `/login` へリダイレクトされます。

75. Q: カメラ対応ブラウザは？
    A: Chromium系が推奨、iOS Safariはフォールバック対応です。

76. Q: QRが読めない場合は？
    A: 手入力フォームでトークンを送信します。

77. Q: QRの可読性改善は？
    A: 高コントラストPNGで表示します。

78. Q: モバイルの横スクロール対策は？
    A: `overflow-x` を抑制し折り返し表示にしています。

79. Q: サイドバーの選択状態は？
    A: アクティブ時は背景色と白文字で表示します。

80. Q: 未読通知数はどこで表示？
    A: ナビゲーションの通知アイコンに表示します。

81. Q: 時限の時間帯は？
    A: 1限09:10-10:40、2限10:50-12:20、3限13:10-14:40、4限14:50-16:20、5限16:30-18:00です。

82. Q: 教室の候補は？
    A: 2C、3A-3C、4A-4D、5A-5D、6A-6D、7A-7D、8A-8D、9D-1/9D-2です。

83. Q: 学期の候補は？
    A: 前期と後期です。

84. Q: 出席ステータスの種類は？
    A: 出席/遅刻/欠席/公欠/早退/未入力です。

85. Q: 出席の登録方式は？
    A: qrcode/manual/systemです。

86. Q: 出席履歴の出力は？
    A: CSVで出力できます。

87. Q: QRスキャンログの出力は？
    A: `/scan-logs` からCSV出力できます。

88. Q: 出席変更ログの出力は？
    A: `/attendance-logs` からCSV出力できます。

89. Q: レポートの出力形式は？
    A: 画面表示に加えCSV/PDFです。

90. Q: 監査ログの保存条件は？
    A: 条件保存で再利用できます。

91. Q: 外部連携の例は？
    A: 学務システムへの出席連携です。

92. Q: 連続スキャン時の挙動は？
    A: レート制限で一定時間ブロックされます。

93. Q: 無効トークンの挙動は？
    A: エラーメッセージを返しログに記録します。

94. Q: 履修外の学生がスキャンしたら？
    A: 未履修エラーになります。

95. Q: 休講日のスキャンは？
    A: 休講エラーになります。

96. Q: 確定済み授業のスキャンは？
    A: 登録できません。

97. Q: 新規アカウント作成は誰ができる？
    A: 管理者のみです。

98. Q: 学生の初期パスワードは？
    A: 未入力時は学籍IDが初期パスワードになります。

99. Q: 出席記録のユニーク条件は？
    A: 学生×クラス×日付で1件です。

100. Q: 今後の拡張候補は？
     A: SSO/API連携や公認端末の強化です。
