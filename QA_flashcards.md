# 一問一答（展示用フラッシュカード集）

展示会で想定される質問に対する短答形式の一問一答です。即答用メモとして利用してください。

1. Q: このアプリの目的は？
   A: 授業の出席管理を簡単にすること。QRで入室/退室を記録し、履歴と申請を管理します。

2. Q: 主要なバックエンドは何？
   A: Ruby on Rails。

3. Q: フロントは何を使っている？
   A: Tailwind CSS と Hotwire（Importmap）。

4. Q: 認証方式は？
   A: セッションベース（`SessionsController`）。

5. Q: 出席打刻の流れは？
   A: QR生成→学生がスキャン→トークン検証→出席記録保存→ログ記録。

6. Q: 退室はどう記録する？
   A: 同じ授業のQRを2回目に読み取ると退室(チェックアウト)になります。

7. Q: 早退判定は？
   A: 最低出席率に基づき滞在時間が不足すると早退になります。

8. Q: QRトークンの有効期限は？
   A: 5分（短時間）。

9. Q: QRコードは自動更新される？
   A: 60秒間隔で自動更新されます。

10. Q: データベースは何を使う？
    A: 開発はPostgres推奨、本番もPostgres。

11. Q: `AttendanceRecord` に入る主なカラムは？
    A: `user_id`, `school_class_id`, `date`, `status`, `checked_in_at`, `checked_out_at`, `duration_minutes` など。

12. Q: 出席申請はできる？
    A: 学生が欠席/遅刻/公欠を申請し、教員が承認/却下できます。

13. Q: 出席確定/自動欠席は？
    A: 授業回の確定で未登録は欠席。定期実行は `bin/rails attendance:finalize`。

14. Q: テストは何を使ってる？
    A: Rails の Minitest（`test/`）。

15. Q: 本番デプロイの注意点は？
    A: 環境変数、DB接続、アセットプリコンパイル、ログ監視。

16. Q: アセットが反映されない場合は？
    A: `bin/rails assets:precompile` とブラウザキャッシュのクリア。

17. Q: PWA を有効にするには？
    A: マニフェストとService Worker、`apple-touch-icon` を設定しHTTPSで配信。

18. Q: サードパーティログインは可能？
    A: OAuth/SSOを実装すれば可能。

19. Q: 大量の同時アクセスへの対策は？
    A: キャッシュ、ジョブキュー、DBインデックス、スケールアウト。

20. Q: 監査ログは残せる？
    A: はい。QRスキャンログと出席変更ログに保存します。

21. Q: APIを公開できますか？
    A: REST API を追加して外部連携可能です。

22. Q: DBスキーマ変更の手順は？
    A: Rails マイグレーションを作成し `rails db:migrate` を実行。

23. Q: CSRF 対策は？
    A: Rails の `csrf_meta_tags` とトークン検証。

24. Q: カメラQRスキャン対応ブラウザは？
    A: Chromium系(Chrome/Edge/Brave/Opera/Samsung Internet)推奨。iOS Safari 16+ も対応端末で利用可。

25. Q: QR偽造対策は？
    A: トークン短寿命と署名検証で無効化。

26. Q: CSVは期間指定できる？
    A: `start_date`/`end_date` で期間出力できます。

27. Q: CSVに追加された項目は？
    A: 授業回ID、入室時刻、退室時刻、滞在分、申請状況/種別/理由、QRセッションID、IP、UserAgent、備考。

28. Q: CSVインポートの必須列は？
    A: `日付/学生ID/出席状況` が必須で、出席状況は `出席/遅刻/欠席/公欠/早退`。

29. Q: 遅刻判定や締切はどこで設定する？
    A: 教員の出席管理画面で出席ポリシーを設定できます。

30. Q: 出席レポートは見られる？
    A: `/reports` で期間指定の集計を確認できます。

31. Q: 通知はどこで見る？
    A: `/notifications` で確認できます。

32. Q: QRスキャンのセキュリティは？
    A: 分間スキャン上限、許可IP/端末キーワードの制限を設定できます。

33. Q: QRスキャン結果はリアルタイム反映される？
    A: はい。出席管理画面に即時反映されます。

34. Q: 休講や補講は設定できる？
    A: クラス詳細の「特別日程」で日付単位に設定できます。

35. Q: 出席修正の理由は残る？
    A: 修正理由が必須で、出席変更ログに記録されます。

36. Q: 出席率の警告基準は？
    A: ポリシーで警告欠席回数・警告出席率を設定できます。
